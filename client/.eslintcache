[{"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/index.tsx":"1","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/reportWebVitals.ts":"2","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/App.tsx":"3","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/Login.tsx":"4","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/hooks/useLocalStorage.tsx":"5","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/Dashboard.tsx":"6","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/Sidebar.js":"7","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/Conversations.tsx":"8","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/Contacts.tsx":"9","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/NewContactModal.tsx":"10","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/contexts/ContactsProvider.js":"11","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/NewConversationModal.js":"12","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/contexts/ConversationsProvider.js":"13","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/OpenConversation.js":"14"},{"size":558,"mtime":1610817350520,"results":"15","hashOfConfig":"16"},{"size":425,"mtime":1610808356109,"results":"17","hashOfConfig":"16"},{"size":585,"mtime":1610853017007,"results":"18","hashOfConfig":"16"},{"size":982,"mtime":1610812915515,"results":"19","hashOfConfig":"16"},{"size":617,"mtime":1610850052561,"results":"20","hashOfConfig":"16"},{"size":467,"mtime":1610852203273,"results":"21","hashOfConfig":"16"},{"size":1943,"mtime":1610823720530,"results":"22","hashOfConfig":"16"},{"size":655,"mtime":1610851770428,"results":"23","hashOfConfig":"16"},{"size":399,"mtime":1610850221997,"results":"24","hashOfConfig":"16"},{"size":1202,"mtime":1610846523253,"results":"25","hashOfConfig":"16"},{"size":584,"mtime":1610849200775,"results":"26","hashOfConfig":"16"},{"size":1545,"mtime":1610849326410,"results":"27","hashOfConfig":"16"},{"size":2773,"mtime":1610902971297,"results":"28","hashOfConfig":"16"},{"size":2185,"mtime":1610904558110,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"10dm8jw",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"32"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/index.tsx",[],["63","64"],"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/reportWebVitals.ts",[],"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/App.tsx",["65"],"import { useState } from 'react';\nimport Login from './Login';\nimport Dashboard from './Dashboard';\nimport useLocalStorage from '../hooks/useLocalStorage';\nimport { ContactsProvider } from '../contexts/ContactsProvider';\nimport { ConversationsProvider } from '../contexts/ConversationsProvider';\n\nfunction App() {\n\n  const [id, setId] = useLocalStorage('id', '');\n\n  return (\n    <ContactsProvider>\n      <ConversationsProvider id={id}>\n        {id ? <Dashboard id={id}/>: <Login onSubmitId={setId}/>}\n      </ConversationsProvider>\n    </ContactsProvider>\n  );\n}\n\nexport default App;\n","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/Login.tsx",[],"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/hooks/useLocalStorage.tsx",[],"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/Dashboard.tsx",[],"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/Sidebar.js",[],["66","67"],"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/Conversations.tsx",[],"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/Contacts.tsx",[],"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/NewContactModal.tsx",[],"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/contexts/ContactsProvider.js",[],"/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/NewConversationModal.js",["68"],"import { useState } from 'react';\nimport { Modal, Form, Button } from 'react-bootstrap';\nimport { unstable_renderSubtreeIntoContainer } from 'react-dom';\nimport { useContacts } from '../contexts/ContactsProvider';\nimport { useConversations } from '../contexts/ConversationsProvider';\n\nexport default function NewConversationModal(props) {\n\n  const [selectedContactIds, setSelectedContactIds] = useState([]);\n  const { contacts } = useContacts();\n  const { createConversation } = useConversations();\n\n  const handleSubmit = function(e) {\n    e.preventDefault();\n\n    createConversation(selectedContactIds);\n    props.closeModal();\n  }\n\n  const handleCheckboxChange = function(contactId) {\n    setSelectedContactIds(prev => {\n      if(prev.includes(contactId)) {\n        return prev.filter(prevId => {\n          return contactId === prevId\n        })\n      } else {\n        return [...prev, contactId]\n      }\n    })\n  }\n\n  return (\n    <>\n      <Modal.Header closeButton>Create Conversation</Modal.Header>\n      <Modal.Body>\n        <Form onSubmit={handleSubmit}>\n          {contacts.map(contact => (\n            <Form.Group controlId={contact.id} key={contact.id}>\n              <Form.Check\n                type=\"checkbox\"\n                value={selectedContactIds.includes(contact.id)}\n                label={contact.name}\n                onChange={() => handleCheckboxChange(contact.id)}\n              />\n            </Form.Group>\n          ))}\n          <Button type=\"submit\">Create</Button>\n        </Form>\n      </Modal.Body>\n    </>\n  )\n}\n","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/contexts/ConversationsProvider.js",["69","70","71","72"],"import React, { useContext, useState } from 'react';\nimport useLocalStorage from '../hooks/useLocalStorage';\nimport { useContacts } from './ContactsProvider';\n\nconst ConversationsContext = React.createContext();\n\nexport function useConversations() {\n  return useContext(ConversationsContext);\n}\n\nexport function ConversationsProvider({ id, children }) {\n  const [conversations, setConversations] = useLocalStorage('conversations', []);\n  const [selectedConversationIndex, setSelectedConversationIndex] = useState(0);\n  const { contacts } = useContacts();\n\n  function createConversation(recipients) {\n    setConversations(prev => {\n      return [...prev, { recipients, messages: [] }];\n    })\n  }\n\n  const formattedConverations = conversations.map((conversation, index) => {\n    const recipients = conversation.recipients.map(recipient => {\n      const contact = contacts.find(contact => {\n        return contact.id === recipient\n      })\n      const name = (contact && contact.name || recipient);\n      return { id: recipient, name }\n    })\n\n    const messages = conversation.messages.map(message => {\n      const contact = contacts.find(contact => {\n        return contact.id === message.sender;\n      })\n      const name = (contact && contact.name || message.sender);\n      const fromMe = id === message.sender\n      return { ...message, senderName: name, fromMe }\n    })\n\n    const selected = index === selectedConversationIndex\n    return {...conversation, messages, recipients, selected }\n  })\n\n  function addMessageToConversation({ recipients, text, sender }) {\n    setConversations(prev => {\n      let madeChange = false;\n      const newMessage = { sender, text };\n      const newConversations = prev.map(conversation => {\n        if (arrayEquality(conversation.recipients, recipients)) {\n          madeChange = true;\n          return { ...conversation, messages: [...conversation.messages, newMessage]}\n        }\n        return conversation;\n      })\n\n      if (madeChange) {\n        return newConversations;\n      } else {\n        return [...prev, { recipients, messages: [newMessage] }];\n      }\n    })\n  }\n\n  function sendMessage(recipients, text) {\n    addMessageToConversation({ recipients, text, sender: id });\n  }\n\n\n  const value = {\n    conversations: formattedConverations,\n    selectedConversation: formattedConverations[selectedConversationIndex],\n    sendMessage,\n    selectedConversationIndex: setSelectedConversationIndex,\n    createConversation\n  }\n\n  return (\n    <ConversationsContext.Provider value={value}>\n      {children}\n    </ConversationsContext.Provider>\n  )\n}\n\nfunction arrayEquality(a, b) {\n  if(a.length !== b.length) return false;\n\n  a.sort();\n  b.sort();\n\n  return a.every((element, index) => {\n    return element === b[index];\n  })\n}\n","/Users/shadeemerhi/Documents/CS/Programming/React/whatsapp/client/src/components/OpenConversation.js",[],{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":1,"column":10,"nodeType":"79","messageId":"80","endLine":1,"endColumn":18},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"81","severity":1,"message":"82","line":3,"column":10,"nodeType":"79","messageId":"80","endLine":3,"endColumn":45},{"ruleId":"83","severity":1,"message":"84","line":27,"column":29,"nodeType":"85","messageId":"86","endLine":27,"endColumn":31},{"ruleId":"83","severity":1,"message":"84","line":27,"column":45,"nodeType":"85","messageId":"86","endLine":27,"endColumn":47},{"ruleId":"83","severity":1,"message":"84","line":35,"column":29,"nodeType":"85","messageId":"86","endLine":35,"endColumn":31},{"ruleId":"83","severity":1,"message":"84","line":35,"column":45,"nodeType":"85","messageId":"86","endLine":35,"endColumn":47},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],"@typescript-eslint/no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","no-unused-vars","'unstable_renderSubtreeIntoContainer' is defined but never used.","no-mixed-operators","Unexpected mix of '&&' and '||'.","LogicalExpression","unexpectedMixedOperator","no-global-assign","no-unsafe-negation"]